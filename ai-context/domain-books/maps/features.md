# maps 도메인 기능 정의

## 기능 1: 경로 검색

**설명**: 사용자가 출발지와 목적지를 입력하면 네이버 지도 API를 통해 경로를 검색하고 시간/거리/예상 택시 요금을 표시합니다.

**사용자 시나리오**:
1. 사용자가 지도 화면에서 출발지를 "현재 위치"로 선택합니다.
2. 목적지에 "명동"을 입력합니다.
3. "경로 검색" 버튼을 누르면 서버가 네이버 지도 API를 호출합니다.
4. "1.2km, 5분, 예상 요금 4,000원" 등의 경로 요약이 표시됩니다.

**관련 API**:
- 경로 생성 (api-spec.md 참조)

---

## 기능 2: 즐겨찾기 장소 추가

**설명**: 사용자가 자주 가는 장소를 즐겨찾기로 저장하면 다음에 빠르게 목적지로 설정할 수 있습니다. 최대 20개까지 저장 가능합니다.

**사용자 시나리오**:
1. 사용자가 경로 검색 후 "명동" 목적지를 즐겨찾기에 추가합니다.
2. "숙소"라는 별칭을 입력합니다.
3. 즐겨찾기 목록에 "숙소 (명동)"가 저장됩니다.
4. 다음에 목적지 입력 시 즐겨찾기 탭에서 "숙소"를 선택하면 자동으로 "명동"이 설정됩니다.

**관련 API**:
- 즐겨찾기 추가 (api-spec.md 참조)

---

## 기능 3: 즐겨찾기 장소 조회

**설명**: 사용자가 저장한 즐겨찾기 목록을 확인하고 목적지로 빠르게 선택할 수 있습니다.

**사용자 시나리오**:
1. 사용자가 목적지 입력 화면에서 "즐겨찾기" 탭을 선택합니다.
2. "숙소", "공항", "회사" 등 저장된 장소 목록이 표시됩니다.
3. "공항"을 선택하면 자동으로 "인천국제공항"이 목적지로 설정됩니다.
4. "경로 검색" 버튼을 누르면 바로 경로가 표시됩니다.

**관련 API**:
- 즐겨찾기 조회 (api-spec.md 참조)

---

## 기능 4: 즐겨찾기 장소 삭제

**설명**: 더 이상 필요 없는 즐겨찾기 장소를 삭제할 수 있습니다. 삭제 후 다시 추가할 수 있습니다.

**사용자 시나리오**:
1. 사용자가 즐겨찾기 목록에서 "회사" 항목을 길게 누릅니다.
2. "삭제" 버튼이 나타나고 선택합니다.
3. 확인 팝업에서 "삭제"를 누르면 즐겨찾기에서 제거됩니다.
4. 20개 제한에 걸렸다면 삭제 후 새로운 장소를 추가할 수 있습니다.

**관련 API**:
- 즐겨찾기 삭제 (api-spec.md 참조)

---

## 기능 5: 검색 기록 자동 저장

**설명**: 사용자가 검색한 장소는 자동으로 검색 기록에 저장되어 다음에 빠르게 재검색할 수 있습니다. 최근 10개까지 자동 관리됩니다.

**사용자 시나리오**:
1. 사용자가 "명동"을 검색하여 경로를 확인합니다.
2. 시스템이 자동으로 "명동"을 검색 기록에 저장합니다.
3. 나중에 목적지 입력 필드를 누르면 "명동", "강남역", "홍대입구" 등 최근 검색 기록이 자동 완성으로 표시됩니다.
4. "명동"을 선택하면 바로 목적지가 설정됩니다.

**관련 API**:
- 검색 기록 조회 (api-spec.md 참조)

---

## 기능 6: 미션과 경로 연계

**설명**: 택시 미션 진행 중 경로를 검색하면 미션 ID가 함께 저장되어, 가이드 탭에서 "지도로 이동" 버튼으로 빠르게 경로를 다시 확인할 수 있습니다.

**사용자 시나리오**:
1. 사용자가 택시 미션을 시작합니다.
2. 1단계(목적지 설정)에서 "명동"을 검색합니다.
3. 경로가 택시 미션과 함께 저장됩니다.
4. 3단계(운전자에게 전달)에서 "지도로 이동" 버튼을 누르면 이전에 검색한 경로가 바로 표시됩니다.

**관련 API**:
- 경로 생성 (missionId 파라미터 사용, api-spec.md 참조)

---

## 기능 7: 외부 지도 앱 연계

**설명**: 사용자는 경로 확인 후 "외부 지도에서 보기" 버튼을 눌러 네이버 지도, 구글 맵 등 시스템 기본 지도 앱으로 경로를 전달할 수 있습니다.

**사용자 시나리오**:
1. 사용자가 "서울역 → 명동" 경로를 확인합니다.
2. "외부 지도에서 보기" 버튼을 누릅니다.
3. 시스템이 네이버 지도 앱으로 경로를 전달합니다.
4. 네이버 지도에서 상세 네비게이션을 이용할 수 있습니다.

**관련 API**:
- 경로 생성 (api-spec.md 참조, 클라이언트에서 Deep Link 처리)
